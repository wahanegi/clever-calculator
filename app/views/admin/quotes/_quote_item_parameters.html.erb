<div class="quote-parameter-wrapper">
  <% if fixed_parameters.present? %>
    <div class="quote-params-block">
      <ul>
        <% fixed_parameters.each do |name, value| %>
          <li><%= parameter_display_name(name) %>: <%= value %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <% if open_parameters_label.present? %>
    <div class="quote-params-block">
      <ul>
        <% open_parameters_label.each do |label| %>
          <li>
            <label>
              <%= parameter_display_name(label) %>
              <input type="number"
                     name="quote[quote_items_attributes][NEW_RECORD][open_param_values][<%= label %>]"
                     class="quote-open-param-input param-input"
                     value="<%= open_param_values[label].presence || '' %>" />
            </label>
          </li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <% if select_parameters.present? %>
    <div class="quote-params-block">
      <ul>
        <% select_parameters.each do |sel_name, data| %>
          <li>
            <label>
              <%= parameter_display_name(sel_name) %>
              <select name="quote[quote_items_attributes][NEW_RECORD][select_param_values][<%= sel_name %>]"
                      class="quote-select-param-input param-input">
                <option value="">— Select —</option>
                <% data['options'].each do |label, val| %>
                  <option value="<%= val %>" <%= 'selected' if select_param_values[sel_name].to_s == val.to_s %>>
                    <%= label %> (<%= val %>)
                  </option>
                  <% end %>
                </select>
              </label>
            </li>
          <% end %>
        </ul>
      </div>
    <% end %>
  </div>