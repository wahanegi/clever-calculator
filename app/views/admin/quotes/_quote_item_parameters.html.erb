<div class="quote-parameter-wrapper">
  <% if fixed_parameters.present? %>
    <div class="quote-params-block">
      <ul>
        <% fixed_parameters.each do |name, value| %>
          <li><%= name %>: <%= value %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <% if open_parameters_label.present? %>
    <div class="quote-params-block">
      <ul>
        <% open_parameters_label.each do |label| %>
          <li>
            <%= label %>
            <input type="number"
              name="quote[quote_items_attributes][NEW_RECORD][open_param_values][<%= label %>]"
              value="<%= quote_item&.open_param_values&.dig(label) %>"
              class="quote-open-param-input"
              step="any"
              min="0"
              style="margin-left: 5px;" />
          </li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <% if select_parameters.present? %>
    <div class="quote-params-block">
      <ul>
        <% select_parameters.each do |sel_name, data| %>
          <li>
            <label><%= sel_name %>:</label>
            <select name="quote[quote_items_attributes][NEW_RECORD][select_param_values][<%= sel_name %>]"
              class="quote-select-param-input"
              style="margin-left: 5px;">
              <option value="">— Select —</option>
              <% data['options'].each do |label, val| %>
                <option value="<%= val %>"
                  <%= 'selected' if quote_item&.select_param_values&.dig(sel_name).to_s == val.to_s %>>
                  <%= label %> (<%= val %>)
                </option>
              <% end %>
            </select>
          </li>
        <% end %>
      </ul>
    </div>
  <% end %>
</div>
