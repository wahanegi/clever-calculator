<div class="d-flex justify-content-center align-items-center bg-blue-sky vh-100">
  <%# image_tag "login_background.png", alt: "Company Logo", class: "img-fluid", width: "472" %>
  <div class="bg-light d-flex flex-row justify-content-around align-items-center w-100 login-card rounded-4 shadow-lg">
    <div>
      <%= image_tag "logo.png", alt: "Company Logo", class: "img-fluid", width: "200" %>
      <div class="fs-3 px-2 mt-6">
        <span class="fw-lighter">Login to</span>
        <span class="fw-bold d-block">Sales Calculator</span>
      </div>
    </div>
    <div class="d-flex flex-column gap-9 w-100 login-form">
      <div class="text-center d-flex flex-column gap-2 w-100">
        <h2 class="text-primary fw-bold lh-lg">Welcome!</h2>
        <p class="fs-9 lh-sm">Sign in to your account</p>
      </div>
      <%= form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
        <div class="field w-100 mb-5 position-relative">
          <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "form-control py-2 border border-primary rounded-1 lh-lg pe-5", placeholder: "Enter your e-mail" %>
          <%= f.label :email, "User", class: "border-label fs-11 fw-bold lh-sm px-1" %>
          <div class="position-absolute end-0 top-50 translate-middle-y pe-3">
            <%= image_tag "person.svg", alt: "Person Icon", class: "icon", with: "24" %>
          </div>
        </div>
        <div class="field w-100 position-relative">
          <%= f.password_field :password, autocomplete: "current-password", class: "form-control py-2 border border-primary rounded-1 lh-lg", placeholder: "Enter your password", id: "password-field" %>
          <%= f.label :password, class: "border-label fs-11 fw-bold lh-sm px-1" %>
          <div class="position-absolute end-0 top-50 translate-middle-y pe-3", role='button'>
            <%= image_tag "eye_icon.svg", alt: "Show Password", class: "icon toggle-password", id: "eye-icon", width: "20" %>
          </div>
        </div>
        <div class="w-100 d-flex">
          <%= render "devise/shared/links" %>
        </div>
        <div class="actions w-100 mt-6 mb-5">
          <%= f.submit "LOGIN", class: "btn btn-primary text-white w-100 fw-medium lh-sm rounded-2 py-4 border-0" %>
        </div>
        <div class="w-100 text-center mt-4">
          <div class="or-divider position-relative mb-3">
            <span class="text-secondary pt-2">or</span>
          </div>
          <p class="lh-sm mt-6 text-secondary fs-10">
            If you donâ€™t have access
            <%= link_to "request here", new_password_path(resource_name), class: "text-primary text-decoration-underline" %>
          </p>
        </div>
      <% end %>
    </div>
  </div>
  <%# image_tag "login_background.png", alt: "Company Logo", class: "img-fluid", width: "472" %>
</div>
<%# script for toggling password visibility %>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const passwordField = document.getElementById("password-field");
    const togglePassword = document.getElementById("eye-icon");

    if (passwordField && togglePassword) {
      togglePassword.addEventListener("click", function () {
        // Toggle the type attribute
        const type = passwordField.getAttribute("type") === "password" ? "text" : "password";
        passwordField.setAttribute("type", type);

        // Toggle the icon's appearance
        togglePassword.classList.toggle("password-visible");
      });
    }
  });
</script>